<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nadine's Garden Jump ğŸŒ¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Quicksand:wght@600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --leaf-green: #2ecc71; --petal-pink: #ff9ff3; --wood-brown: #795548;
            --sky-soft: #a2d2ff; --gold: #f1c40f;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body { 
            margin: 0; background: #1a1a1a; 
            font-family: 'Quicksand', sans-serif; 
            display: flex; justify-content: center; align-items: center; 
            height: 100vh; overflow: hidden;
        }

        /* --- Arcade Cabinet Design --- */
        .arcade-cabinet {
            width: 95%; max-width: 450px;
            background: linear-gradient(145deg, #4a3728, #2d1e12);
            padding: 20px;
            border-radius: 40px 40px 15px 15px;
            border: 8px solid #3e2723;
            box-shadow: 0 20px 0 #26140f, 0 30px 50px rgba(0,0,0,0.8);
            position: relative;
        }

        /* Decoration Lights */
        .arcade-cabinet::before {
            content: "ğŸŒ¸ FLY HIGH ğŸŒ¸"; position: absolute; top: -35px; left: 50%;
            transform: translateX(-50%); font-family: 'Press Start 2P';
            font-size: 14px; color: var(--petal-pink); text-shadow: 0 0 10px var(--petal-pink);
        }

        .screen-frame {
            background: #2d1e12; padding: 12px; border-radius: 20px;
            box-shadow: inset 0 0 20px #000;
        }

        .screen-container {
            background: #a2d2ff; height: 500px; border-radius: 10px;
            position: relative; overflow: hidden; border: 4px solid #1a1a1a;
        }

        /* Retro Scanline Effect */
        .scanlines {
            position: absolute; inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.05) 50%);
            background-size: 100% 4px; z-index: 10; pointer-events: none;
        }

        canvas { width: 100%; height: 100%; z-index: 5; }

        .ui-layer {
            position: absolute; inset: 0;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 30px; text-align: center; z-index: 20; background: rgba(255, 255, 255, 0.85);
        }

        .btn-start {
            background: var(--leaf-green); border: none;
            color: white; padding: 15px 30px; font-family: 'Press Start 2P', cursive;
            font-size: 12px; cursor: pointer; transition: 0.2s; margin-top: 20px;
            border-bottom: 5px solid #27ae60; border-radius: 10px;
        }
        .btn-start:active { transform: translateY(3px); border-bottom: 2px solid #27ae60; }

        .stats-hud {
            position: absolute; top: 15px; width: 100%; padding: 0 15px;
            display: flex; justify-content: space-between; font-family: 'Press Start 2P';
            font-size: 9px; color: #2d3436; z-index: 15;
        }

        #message-box {
            background: white; border: 3px solid var(--leaf-green); padding: 15px;
            font-size: 14px; line-height: 1.6; max-height: 250px; overflow-y: auto; 
            text-align: left; color: #333; border-radius: 15px;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="arcade-cabinet">
        <div class="screen-frame">
            <div class="screen-container" id="screen">
                <div class="scanlines"></div>
                
                <div class="stats-hud">
                    <span>SCORE: <span id="score-val">0</span></span>
                    <span>GOAL: 1000</span>
                </div>

                <canvas id="game-canvas"></canvas>

                <div id="ui-start" class="ui-layer">
                    <div style="font-size: 60px; margin-bottom: 10px;">ğŸ€</div>
                    <h1 style="font-family:'Press Start 2P'; font-size: 16px; color: var(--wood-brown);">CATCH THE DREAMS</h1>
                    <p style="color: #636e72; font-size: 13px;">bantuin kelinci ituu meraih mimpinyaa yaa sayanggg</p>
                    <button class="btn-start" onclick="initGame()">MULAI MAIN</button>
                </div>

                <div id="ui-over" class="ui-layer hidden">
                    <div style="font-size: 50px;">ğŸƒ</div>
                    <h1 style="font-family:'Press Start 2P'; color: #d63031; font-size: 14px;">yahh jatuhh yaa sayangg?</h1>
                    <p>Its okeyyy, we can try againn yaakk, semangatt</p>
                    <button class="btn-start" onclick="location.reload()">COBA LAGI</button>
                </div>

                <div id="ui-final" class="ui-layer hidden" style="background: rgba(255,240,245,0.95)">
                    <h1 style="font-family:'Press Start 2P'; font-size: 12px; color: #e84393;">YOU MADE IT SAYANGG!! ğŸŒ¸</h1>
                    <div id="message-box"></div>
                    <button class="btn-start" onclick="location.reload()">MAIN LAGI</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let audioCtx;
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        let width, height, player, platforms = [], active = false, score = 0, cameraY = 0;

        function playSound(f, t, d, v = 0.05) {
            if (!audioCtx) return;
            const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
            o.type = t; o.frequency.setValueAtTime(f, audioCtx.currentTime);
            g.gain.setValueAtTime(v, audioCtx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + d);
            o.connect(g); g.connect(audioCtx.destination);
            o.start(); o.stop(audioCtx.currentTime + d);
        }

        function initGame() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            document.getElementById('ui-start').classList.add('hidden');
            
            width = canvas.width = canvas.offsetWidth;
            height = canvas.height = canvas.offsetHeight;
            
            player = {
                x: width / 2, y: height - 100,
                vx: 0, vy: 0,
                w: 40, h: 40,
                jumpPower: -14
            };

            platforms = [];
            // Base ground
            platforms.push({ x: 0, y: height - 30, w: width, type: 'ground' });

            // Generate initial platforms
            for(let i = 0; i < 8; i++) {
                spawnPlatform(height - (i * 90) - 100);
            }

            active = true;
            gameLoop();
        }

        function spawnPlatform(yPos) {
            platforms.push({
                x: Math.random() * (width - 80),
                y: yPos,
                w: 80,
                h: 15,
                type: Math.random() < 0.15 ? 'flower' : 'leaf'
            });
        }

        const handleMove = (e) => {
            if(!active) return;
            const x = e.touches ? e.touches[0].clientX : e.clientX;
            const rect = canvas.getBoundingClientRect();
            let targetX = x - rect.left;
            player.vx = (targetX - player.x) * 0.2;
        };

        window.addEventListener('mousemove', handleMove);
        window.addEventListener('touchmove', (e) => { handleMove(e); e.preventDefault(); }, {passive: false});

        function gameLoop() {
            if(!active) return;
            
            // Draw Background Gradient
            let skyGrd = ctx.createLinearGradient(0, 0, 0, height);
            skyGrd.addColorStop(0, "#a2d2ff");
            skyGrd.addColorStop(1, "#dff9fb");
            ctx.fillStyle = skyGrd;
            ctx.fillRect(0, 0, width, height);

            // Physics
            player.vy += 0.45; // Gravity
            player.y += player.vy;
            player.x += player.vx;

            // Screen Wrap
            if(player.x > width + 20) player.x = -20;
            if(player.x < -20) player.x = width + 20;

            // Camera follow
            if(player.y < height / 2.5) {
                let diff = height / 2.5 - player.y;
                player.y += diff;
                cameraY += diff;
                score = Math.max(score, Math.floor(cameraY / 10));
                document.getElementById('score-val').innerText = score;
                platforms.forEach(p => p.y += diff);
            }

            // Draw Platforms
            platforms.forEach((p, i) => {
                if (p.type === 'ground') {
                    ctx.fillStyle = '#795548';
                    ctx.fillRect(p.x, p.y, p.w, p.h + 50);
                    ctx.fillStyle = '#2ecc71';
                    ctx.fillRect(p.x, p.y, p.w, 10);
                } else {
                    // Leaf or Flower
                    ctx.fillStyle = p.type === 'flower' ? '#ff9ff3' : '#2ecc71';
                    ctx.beginPath();
                    ctx.roundRect(p.x, p.y, p.w, p.h, 10);
                    ctx.fill();
                    // Detail
                    ctx.strokeStyle = 'rgba(0,0,0,0.1)';
                    ctx.strokeRect(p.x + 5, p.y + p.h/2, p.w - 10, 1);
                }

                // Collision Detection
                if(player.vy > 0 && 
                   player.x + 15 > p.x && player.x - 15 < p.x + p.w &&
                   player.y + 20 > p.y && player.y + 20 < p.y + p.h + 10) {
                    
                    player.vy = p.type === 'flower' ? player.jumpPower * 1.8 : player.jumpPower;
                    playSound(p.type === 'flower' ? 600 : 300, 'sine', 0.1);
                }

                // Recycle platforms
                if(p.y > height + 50) {
                    platforms.splice(i, 1);
                    let lastY = platforms[platforms.length-1].y;
                    spawnPlatform(lastY - 90 - Math.random() * 30);
                }
            });

            // Draw Character (Bunny)
            ctx.font = "40px Arial";
            ctx.textAlign = "center";
            ctx.save();
            ctx.translate(player.x, player.y);
            if(player.vx < -1) ctx.scale(-1, 1); // Flip if moving left
            ctx.fillText("ğŸ°", 0, 0);
            ctx.restore();

            // Check Endings
            if(score >= 1000) finish(true);
            if(player.y > height + 100) finish(false);

            requestAnimationFrame(gameLoop);
        }

        function finish(win) {
            active = false;
if(win) {
    // Fungsi bantuan untuk membuat nada selebrasi
    const playNote = (freq, type, start, duration, vol) => {
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type = type;
        o.frequency.setValueAtTime(freq, audioCtx.currentTime + start);
        g.gain.setValueAtTime(0, audioCtx.currentTime + start);
        g.gain.linearRampToValueAtTime(vol, audioCtx.currentTime + start + 0.05);
        g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + start + duration);
        o.connect(g);
        g.connect(audioCtx.destination);
        o.start(audioCtx.currentTime + start);
        o.stop(audioCtx.currentTime + start + duration);
    };

    // Rangkaian nada ceria (Melodi Victory)
    playNote(523.25, 'triangle', 0, 0.3, 0.1);    // Do
    playNote(659.25, 'triangle', 0.1, 0.3, 0.1);  // Mi
    playNote(783.99, 'triangle', 0.2, 0.3, 0.1);  // Sol
    playNote(1046.50, 'square', 0.3, 0.8, 0.05); // Do Tinggi (Garing!)

    // Efek kembang api suara (noise lembut)
    setTimeout(() => {
        document.getElementById('ui-final').classList.remove('hidden');
        // ... sisa kode pengetikan pesan kamu ...
    }, 500);

    const txt = "HAAIII CEWEE AKK YANG PALING CANTIKKK\n\nyeayyyyyy! kelincinyaa sudaa mencapaii mimpinyaaa lhooo,  wkwkkwkw pinterr dee kamuuu sayangggg....\n\nsebelumm lanjut ke longteksnyaa aku sebelumnya mau minta maaff yaa sayangg kalau gamenya mungkin tidaa sesuai dengan ekspektasii kamuuu, maaff yaa fathann suda mencobaa ngulik berjam jam tapi ga dapet yang baguss kaya kemarin kemarinn.. maaff yaaa, dan fathan jugaa belum bisa memenuhi request kamu yang minta foto ak maaf yaa sekali lagi mengecewakann, ssmogaa besok pagii tetep bisaa bikin mutmu baguss deehhh\n\n okeeyydeee lanjutt ke longtekssnyaa yaakkk, pertamaa tamaa fathann mau terimakasihh nihhh, wkwkkwkw fathann seneng bangett dee hari ini bisa banyak seru seruann barengg kamuu wkwkwkwkwk, darii yangg memindahkan motor bersamaa, teruss mengerjakan airdrop bersamaa jugaa, fathann ssngat seneng bangett dee hari ini bisa banyak waktu samaa kamuuu, ya walaupun masih sedikit butuh jaga jarak tapi gapapaa deh fathan seneng banget hari inii, laluu terimakasihh yaa udah banggaa sama fathann atas hasil TKAnyaaa waahh aku sangat excitedd sekalii tadii memberi tau kamu tentang nilaikuu wkwkwkkw, dann alhamdulillah kamu banggaa banget yaa sama nilaikuu, timakasii banyakk yaa sayanggg, fathann berdoaa agar nilaimu sama bagusnya kayaa punyaa ak bahkan mungkin lebihh bagussss, aamiin yaallah. terusss timakasii jugaa yaa sudaa konsen mau menemani fathann dari 0, wahh fathann merasaa sangatt bersemangatt inii mahhh, di temani kamu tuuhh another level of happines dehh, semogaa ini bisa jadi motivasi lebihku untukk menjadii orang yang suksess dan bisaa membawa nintendo ke pelaminann yaakkk, doain fathann agar bisaa memperjuangkan semuanya ituu yaaa sayanggg.. okeyydee timakasii jugaa yaa hari ini suda banyak ceritaa jugaaaa, walaupun ceritanya aneh anehh sii wkwkwkwkwwk, tapi gapapaa di buat pelajarann ajaa yaakkk wkwkwkwkwk.\n\n yasudaa ini juga sudaa malamm jugakkk, wkwkkwkww aku mau bilang selamaatt boboo yaa syanggg, istirahat yang banyakk yaaakkkk.. bobo yang nyenyaakk lhooo, ssmogaaa besokk di lancarkann yaaa harimuuuu, dann semogaa besok pulang gasikk agar kitaa bisa bermainn nintendo bersaamaa yakkk.. okeyydeee goodnightt yaa sayanggkuu cintakuuu, paipaii paipaiiii, assalamualaikumm my girrlll, je t'aimeee bieennn yaaa sayangggğŸ€ğŸ’šğŸ’šğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ’šğŸ’šğŸ°";
                let i = 0; const box = document.getElementById('message-box');
                function type() { if(i < txt.length) { box.innerHTML += txt.charAt(i); i++; setTimeout(type, 50); box.scrollTop = box.scrollHeight; } }
                type();
            } else {
                playSound(150, 'square', 0.4);
                document.getElementById('ui-over').classList.remove('hidden');
            }
        }
    </script>
</body>
</html>